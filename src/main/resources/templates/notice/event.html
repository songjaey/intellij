<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{fragment/basic}">

<th:block layout:fragment="css">
    <link rel="stylesheet" th:href="@{/css/.css}">
    <style>
        .wrapper {
            position:relative;
            max-width:1427.766px;
            min-width:600px;
            margin-left:222.234px;
            margin-top: 50px;
        }
        .notice-menu{
            display:flex;
            flex-direction:row;
            column-gap:30px;
        }
        .notice-menu a {
            text-decoration: none; /* 밑줄 제거 */
            background-color: #777; /* 회색 배경 */
            color: #fff; /* 흰색 글자색 */
            padding: 8px 16px; /* 내부 여백 조절 */
            border-radius: 4px; /* 모서리 둥글게 */
            transition: background-color 0.3s, color 0.3s; /* 배경 및 글자색 변화에 대한 전환 효과 */
        }

        .notice-menu a:hover {
            background-color: #555; /* 마우스 호버시 약간 더 어둡게 */
        }
        .img-menu {
            display: flex;
            flex-wrap: wrap; /* 요소들을 여러 줄에 걸쳐 표시 */
            justify-content: center; /* 수평 가운데 정렬 */
            column-gap: 30px; /* 각 열 사이의 간격 설정 */
        }
        .img-menu .bi{
            margin-top: 260px;
            width:30px;
            height:30px;
        }

        .img-box {
            color: white; text-align:center; font-size:14px;
            padding-top:30px;
            margin-top: 60px; /* 이미지 박스를 아래로 이동시킵니다. */
            width: 200px;
            height: 400px;
            background-size: cover; /* 배경 이미지를 화면에 꽉 채우도록 설정합니다. */
            background-position: center; /* 배경 이미지를 가운데 정렬합니다. */
            border-radius : 10px;
        }

    </style>

</th:block>
<body>
<th:block layout:fragment="script">
    <script>
        $(document).ready(function() {
            var currentIndex = 0;
            var imgBoxes = $('.img-box');
            var totalBoxes = imgBoxes.length;
            var visibleBoxCount = 5; // 한 번에 보이는 이미지 박스의 수

            $('#slide-right').click(function() {
                if (currentIndex + visibleBoxCount < totalBoxes) {
                    currentIndex++;
                    updateVisibleBoxes();
                }
            });

            $('#slide-left').click(function() {
                if (currentIndex > 0) {
                    currentIndex--;
                    updateVisibleBoxes();
                }
            });

            function updateVisibleBoxes() {
                imgBoxes.each(function(index) {
                    if (index >= currentIndex && index < currentIndex + visibleBoxCount) {
                        $(this).css('display', 'block');
                    } else {
                        $(this).css('display', 'none');
                    }
                });
            }

            // 초기에 보여지는 이미지 박스 설정
            updateVisibleBoxes();
        });
    </script>
</th:block>

<div layout:fragment="content" id="box">
    <div class="wrapper">
        <div class="notice-menu">
            <span>
                <a th:href="@{/event}">이벤트</a>
            </span>
            <span>
                <a th:href="@{/members/login}">안내사항</a>
            </span>
            <span>
                <a th:href="@{/board/help}">문의사항</a>
            </span>
            <span>
                <a th:href="@{/members/login}">공유 게시판</a>
            </span>
        </div>


        <!--        테이블 만들기-->
        <!-- 게시판 테이블 -->
        <div class="img-menu">

            <i class="bi bi-arrow-left-square" id="slide-left"></i>

            <div class="img-box" style="background-image: url('/image/image1.jpg');">SNS 이벤트</div>
            <div class="img-box" style="background-image: url('/image/image1.jpg');">호텔 쿠폰</div>
            <div class="img-box" style="background-image: url('/image/image1.jpg');">항공권 할인</div>
            <div class="img-box" style="background-image: url('/image/home.jpg');">공유 이벤트</div>
            <div class="img-box" style="background-image: url('/image/image1.jpg');">치킨 쿠폰 이벤트</div>
            <div class="img-box" style="background-image: url('/image/image1.jpg');"></div>
            <div class="img-box" style="background-image: url('/image/home.jpg');"></div>

            <i class="bi bi-arrow-right-square" id="slide-right"></i>

        </div>

        <button id="addButton" >추가</button>
        <button id="editButton">수정</button>
<!--        <button id="addButton" sec:authorize="hasAnyAuthority('ROLE_ADMIN')">추가</button>-->
<!--        <button id="editButton" sec:authorize="hasAnyAuthority('ROLE_ADMIN')">수정</button>-->

    </div>


</div>
<!-- 모달 -->
<div id="myModal" class="modal">
    <div class="modal-content">
        <!-- 모달 내용은 여기에 -->
        <span class="close">&times;</span>
        <form>
            <input type="text" id="imageUrl" placeholder="이미지 경로"><br>
            <input type="text" id="imageText" placeholder="이미지 설명"><br>
            <button type="submit" id="saveButton">저장</button>
        </form>
    </div>
</div>

<script>
    $(document).ready(function() {
        // 추가 버튼 클릭 시 모달 표시
        $('#addButton').click(function() {
            $('#myModal').css('display', 'block');
        });

        // 수정 버튼 클릭 시 모달 표시
        $('#editButton').click(function() {
            $('#myModal').css('display', 'block');
        });

        // 모달 닫기 버튼 클릭 시 모달 숨기기
        $('.close').click(function() {
            $('#myModal').css('display', 'none');
        });

        // 모달 외부 영역 클릭 시 모달 숨기기
        $(window).click(function(event) {
            if (event.target == $('#myModal')[0]) {
                $('#myModal').css('display', 'none');
            }
        });

        // 저장 버튼 클릭 시 처리
        $('#saveButton').click(function() {
            var imageUrl = $('#imageUrl').val();
            var imageText = $('#imageText').val();
            // 여기에 이미지 박스 추가 또는 수정하는 코드 작성
            // 추가 또는 수정 후 모달 닫기
            $('#myModal').css('display', 'none');
        });
    });
</script>


</body>

</html>